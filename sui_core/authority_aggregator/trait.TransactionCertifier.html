<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This trait provides a method for an authority to get a certificate from the network for a specific transaction. In order to create a certificate, we need to create the network authority aggregator based on the Sui system state committee/network information. This is needed to create a certificate for the advance epoch transaction during reconfiguration. However to make testing easier, we sometimes want to use local authority clients that do not involve full-fledged network Sui nodes (e.g. when we want to abstract out Narwhal). In order to support both network clients and local clients, this trait is defined to hide the difference. We implement this trait for both NetworkTransactionCertifier and LocalTransactionCertifier."><meta name="keywords" content="rust, rustlang, rust-lang, TransactionCertifier"><title>TransactionCertifier in sui_core::authority_aggregator - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ed67f58bef457aa5.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-a19f8302ea709214.css"><link rel="stylesheet" disabled href="../../static.files/dark-f1e56666dd272622.css"><link rel="stylesheet" disabled href="../../static.files/ayu-7291d283d92e041c.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-4a084badb5778746.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../sui_core/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../sui_core/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">TransactionCertifier</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.create_certificate">create_certificate</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In sui_core::authority_aggregator</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="../index.html">sui_core</a>::<wbr><a href="index.html">authority_aggregator</a>::<wbr><a class="trait" href="#">TransactionCertifier</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/sui_core/authority_aggregator.rs.html#416-426">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait TransactionCertifier: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static {
    fn <a href="#tymethod.create_certificate" class="fn">create_certificate</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transaction: &amp;'life1 <a class="type" href="../../sui_types/messages/type.VerifiedTransaction.html" title="type sui_types::messages::VerifiedTransaction">VerifiedTransaction</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self_state: &amp;'life2 <a class="struct" href="../authority/struct.AuthorityState.html" title="struct sui_core::authority::AuthorityState">AuthorityState</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeout: <a class="struct" href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.66/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="type" href="../../sui_types/messages/type.VerifiedCertificate.html" title="type sui_types::messages::VerifiedCertificate">VerifiedCertificate</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life1: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life2: 'async_trait</span>;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This trait provides a method for an authority to get a certificate from the network
for a specific transaction. In order to create a certificate, we need to create the network
authority aggregator based on the Sui system state committee/network information. This is
needed to create a certificate for the advance epoch transaction during reconfiguration.
However to make testing easier, we sometimes want to use local authority clients that do not
involve full-fledged network Sui nodes (e.g. when we want to abstract out Narwhal). In order
to support both network clients and local clients, this trait is defined to hide the difference.
We implement this trait for both NetworkTransactionCertifier and LocalTransactionCertifier.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.create_certificate" class="method has-srclink"><a class="srclink rightside" href="../../src/sui_core/authority_aggregator.rs.html#420-425">source</a><h4 class="code-header">fn <a href="#tymethod.create_certificate" class="fn">create_certificate</a>&lt;'life0, 'life1, 'life2, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;transaction: &amp;'life1 <a class="type" href="../../sui_types/messages/type.VerifiedTransaction.html" title="type sui_types::messages::VerifiedTransaction">VerifiedTransaction</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;self_state: &amp;'life2 <a class="struct" href="../authority/struct.AuthorityState.html" title="struct sui_core::authority::AuthorityState">AuthorityState</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;timeout: <a class="struct" href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a><br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="type" href="https://docs.rs/anyhow/1.0.66/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="type" href="../../sui_types/messages/type.VerifiedCertificate.html" title="type sui_types::messages::VerifiedCertificate">VerifiedCertificate</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'life1: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'life2: 'async_trait,</span></h4></section></summary><div class="docblock"><p>This function first loads the Sui system state object from <code>self_state</code>, get the committee
information, creates an AuthorityAggregator, and use the aggregator to create a certificate
for the specified transaction.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-TransactionCertifier-for-LocalTransactionCertifier" class="impl has-srclink"><a class="srclink rightside" href="../../src/sui_core/authority_aggregator.rs.html#464-487">source</a><a href="#impl-TransactionCertifier-for-LocalTransactionCertifier" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.TransactionCertifier.html" title="trait sui_core::authority_aggregator::TransactionCertifier">TransactionCertifier</a> for <a class="struct" href="struct.LocalTransactionCertifier.html" title="struct sui_core::authority_aggregator::LocalTransactionCertifier">LocalTransactionCertifier</a></h3></section><section id="impl-TransactionCertifier-for-NetworkTransactionCertifier" class="impl has-srclink"><a class="srclink rightside" href="../../src/sui_core/authority_aggregator.rs.html#445-461">source</a><a href="#impl-TransactionCertifier-for-NetworkTransactionCertifier" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.TransactionCertifier.html" title="trait sui_core::authority_aggregator::TransactionCertifier">TransactionCertifier</a> for <a class="struct" href="struct.NetworkTransactionCertifier.html" title="struct sui_core::authority_aggregator::NetworkTransactionCertifier">NetworkTransactionCertifier</a></h3></section></div><script src="../../implementors/sui_core/authority_aggregator/trait.TransactionCertifier.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sui_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (af3e06f1b 2022-12-23)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-58836c674e2f7bd2.css" ></div></body></html>